@import 'nib/vendor'

Tsar = 'tstar_twregular'

bulbsColor   = #50757d
tiroirsColor = #5f2633
birdsColor   = #79795f
tribalColor  = #ccccbe
lockersColor = #832945
thornsColor  = #3a5b60
stripesColor = #897173
booksColor   = #898976
techColor    = #2a2a2d

curtainColor = tribalColor

@-webkit-keyframes sinfade
  0%
    opacity 1
  40%
    opacity 1
  70%
    opacity 0.5
  100%
    opacity 1

@font-face 
  font-family Tsar
  src url('../assets/fonts/tstar_tw-regular-webfont.eot')
  src url('../assets/fonts/tstar_tw-regular-webfont.ttf') format('truetype'), url('../assets/fonts/tstar_tw-regular-webfont.eot?#iefix') format('embedded-opentype'), url('../assets/fonts/tstar_tw-regular-webfont.woff') format('woff'), url('../assets/fonts/tstar_tw-regular-webfont.svg#tstar_twregular') format('svg')
  font-weight normal
  font-style normal

html, body, iframe
  margin    0
  padding   0
  width     100%
  height    100%
  overflow  hidden
  position  absolute
  border    none
  left      0
  top       0
  font-family Tsar
  color white
  // background-color white

iframe
  background-color curtainColor
  transform-origin 0 0 0   
  transition opacity 1s ease
  pointer-events : none

body
  background-color black
  perspective 1000px
  &.live
    #ui
      display none

#paperjs-canvas
  width 100%
  height 100%
  background-color #18181b//#1b253d
  display none
  transition opacity 0.5s ease-out
  position absolute
  &.off
    opacity 0
  &.on
    opacity 1
  .nofocus &
    opacity 0.5

#curtain
  width 100%
  height 0
  position absolute
  z-index 999
  background curtainColor //url('../assets/ui/curtain_texture.png')
  // border-bottom 10px solid rgba(255,255,255,0.1)
  transition height 1.5s cubic-bezier(0.875, 0.155, 0.535, 0.985), opacity 2s, background-color 1s
  .halo
    width 100%
    height 100%
    text-align center
    background url('../assets/ui/light.png') center center no-repeat
    transition opacity 2s
    opacity 0
    animation none
  &.down
    height 100%
  &.off
    // opacity 0
    background-color rgb(0,0,0,0)
    .halo
      opacity 1
      animation: sinfade 4s linear infinite


#curtain, #timeline > a
  &.bulbs
    background-color bulbsColor
  &.tiroirs
    background-color tiroirsColor
  &.birds
    background-color birdsColor
  &.tribal
    background-color tribalColor
  &.lockers
    background-color lockersColor
  &.thorns
    background-color thornsColor
  &.stripes
    background-color stripesColor
  &.books
    background-color booksColor
  &.tech
    background-color techColor

margin = 5%

#ui
  
  &.inactive > *
    pointer-events : none

  #info
    position absolute
    left margin
    top margin
    z-index 998
    text-transform uppercase
    h1
      margin 0px
      color #a6a67a
      font-size 16px
    h2
      color #dbdbdb
      margin-top 8px
      font-size 14px
        
    @media screen and (max-width: 640px)
      width 300px
      h1
        font-size 13px
      h2
        font-size 10px
        margin-top 4px

  #timeline
    display block
    height 60px
    position absolute
    bottom 0px
    list-style-type none
    margin 0
    padding-top 20px
    padding 0
    white-space nowrap
    transition bottom 0.5s ease-out
    transition-delay 0.6s
    > a
      display inline-block
      position relative
      width 20px
      height 40px
      top 40px
      opacity 0.5
      // cursor pointer
      transition top 0.3s ease-out, background-color 0.3s ease-out
      &:hover
        opacity 1
        top 30px
        &::before
          content attr(data-content)
          color white
          transform translate(-50%,-35px)
          text-decoration none
          position absolute
          padding-left 20px
          font-size 14px
      &.on
        top 20px
        opacity 1
        background-color white

  &.inactive #timeline
    bottom -60px

  .arrow
    width 30px
    height 59px
    position absolute
    top 50%
    margin-top -30px
    cursor pointer
    transition left 0.5s ease-out, right 0.5s ease-out
    transition-delay 0.4s, 0.5s
    &.left
      background url('../assets/ui/arrow_left.png')
      left margin
    &.right
      background url('../assets/ui/arrow_right.png')
      right margin
    &:hover
      opacity 0.5
    @media screen and (max-width: 640px)
      transform scale(0.5,0.5)

  &.inactive .arrow
    &.left
      left -30px
    &.right
      right -30px


  #sound
    width 20px
    height 18px
    position absolute
    right margin
    top margin
    transition top 0.5s ease-out
    background url('../assets/ui/sound.png')
    cursor pointer
    &.off
      width 12px 
    @media screen and (max-width: 640px)
      display none

  &.inactive #sound
    top -23px


  #help
    width 20px
    height 18px
    position absolute
    right margin
    top margin
    margin-right 50px
    transition top 0.8s ease-out
    background url('../assets/ui/help.png')
    cursor pointer
    @media screen and (max-width: 640px)
      display none

  &.inactive #help
    top -23px


w = 80px
.quad
  position absolute
  width w
  height w
  margin-left -(w/2)
  margin-top -(w/2)
  left 0
  top 0
  border-radius (w/2)
  &:hover
    background-color rgba(0,0,255, 0.6)

#about
  &.inactive
    display none
  position absolute
  width 1000px
  height 680px
  box-sizing border-box
  background #17171a url('../assets/ui/setup_photo.jpg') no-repeat
  padding 30px
  padding-left 500px
  left 50%
  top 50%
  // transform translate(-50%, -50%)
  margin-left -500px
  margin-top -340px
  z-index 999
  // pointer-events none
  h1
    margin-top 0
    color #a6a67a
    font-size 24px
  h2
    text-transform uppercase
    font-size 16px
    line-height 18px
    margin-top 22px
    margin-bottom 0px
  p
    font-size 14px
    opacity 0.8
    line-height 18px
  a 
    color #a6a67a
    text-decoration none